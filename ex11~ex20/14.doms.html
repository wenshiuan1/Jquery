<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Sample - DOM</title>
        <style>
            .box {
                width: 38px;
                height: 38px;
                border: 1px solid black;
                float: left;
                margin: 5px;
            }

            .clear {
                clear: both;
            }

            #light {
                background-color: yellow;
            }
        </style>
        <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
        <script>
            $(document).ready(function() {
                var nex=$('#next'),pre=$('#prev');
                var direction="right";
                var isnextinside=true;

                nex.click(function(){
                    var light=$("#light");
                    isnextinside=light.next().hasClass('box');
                    if(isnextinside){
                    light.next().attr("id","light");
                    light.removeAttr("id");
                    }

                })


                pre.click(function(){
                    var light=$("#light");
                    isnextinside=light.prev().hasClass('box');
                    if(isnextinside){
                    light.prev().attr("id","light");
                    light.removeAttr("id");
                    }
                })

                setInterval(function(){
                     if(direction=="right"){
                    nex.click();
                    if(!isnextinside)
                    {direction="left"
                    pre.click();
                    }
                }
                else{
                    pre.click();
                    if(!isnextinside)
                    {direction="right"
                    nex.click();}
                }
                },500)
               

            })
        </script>
    </head>
    <body>
        <div class="box" id="light"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="clear"></div>
        <button type="button" id="prev">Prev</button> 
        <button type="button" id="next">Next</button>
    </body>
</html>